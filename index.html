<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="favicon.png" type="image/png">
    <link rel="shortcut icon" href="favicon.png" type="image/png">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Christmas Card</title>
    <link rel="stylesheet" href="style.css">
    <meta property="og:url" content="https://card-ul.netlify.app/" />
    <meta property="og:title" content="메리 크리스마스!" />
    <meta property="og:description" content="즐거운 연말, 새해 복 많이 받으세요~" />
    <meta property="og:image" content="https://card-ul.netlify.app/img/particle1.png" />
    <meta property="og:image:width" content="249" />
    <meta property="og:image:height" content="400" />
    <meta property="og:type" content="website" />
</head>
<body>
  <div class="wrap">
    <button class="toggle">on</button>
    <div class="right-menu">
        <p><a href="#" onclick="location.reload(); return false;">HOME</a></p>
        <p><a href="https://wishlist-ul.netlify.app/">Wish List</a></p>
    </div>
    </div>
    <canvas id="canvas"></canvas>
    <audio id="christmas-music" src="./img/music.mp3" controls></audio>
    <script src="script.js"></script>
    <script>
      const music = document.getElementById('christmas-music');
      const toggleButton = document.querySelector('.toggle'); // 클래스 선택자 사용

      let isPlaying = false; // 현재 재생 상태
      music.volume = 0.3;

    toggleButton.addEventListener('click', () => {
      if (isPlaying) {
        music.pause();
        toggleButton.textContent = 'on'; // 버튼 텍스트 변경
      } else {
        music.play().catch(error => {
          console.error("음악 재생 실패:", error);
          // 사용자 인터랙션 후 재생 시도 (모바일 대응)
          document.addEventListener('click', function playAfterClick() {
            music.play();
            document.removeEventListener('click', playAfterClick);
          });
          document.addEventListener('touchstart', function playAfterTouch() {
            music.play();
            document.removeEventListener('touchstart', playAfterTouch);
          });
        });
        toggleButton.textContent = 'off';
      }
      isPlaying = !isPlaying;
    });
  
      // 페이지 로딩 시 음악 재생 오류 방지 (선택사항)
      window.addEventListener('load', () => {
        // music.play();
      });
      
    </script>
</body>
</html>